<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <title>
    
      Use Pythonista to Get Weather of Current Location into Drafts App &middot; Miklb's Mindless Ramblings
    
  </title>
  <!-- Webmentions -->
  <link rel="pingback" href="https://webmention.io/miklb.com/xmlrpc" />
  <link rel="webmention" href="https://webmention.io/miklb.com/webmention" />

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Miklb's Mindless Ramblings" href="/atom.xml">
  <!-- Begin Jekyll SEO tag -->
<title>Use Pythonista to Get Weather of Current Location into Drafts App - Miklb’s Mindless Ramblings</title>
<meta property="og:title" content="Use Pythonista to Get Weather of Current Location into Drafts App" />
<link rel="canonical" href="miklb.com/use-pythonista-to-get-weather-of-current-location-into-drafts-app" itemprop="url" />
<meta property='og:url' content='miklb.com/use-pythonista-to-get-weather-of-current-location-into-drafts-app' />
<meta property="og:site_name" content="Miklb's Mindless Ramblings" />
<script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "WebSite",
      "name" : "Miklb's Mindless Ramblings",
      "url" : "miklb.com"
    }
  </script>
<meta property="og:type" content="article" />
<link rel="next" href="miklb.com/i-choose-to" title="I Choose to…" />
<link rel="prev" href="miklb.com/reboot-2014-style" title="Reboot 2014 Style" />
<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "NewsArticle",
      "headline": "Use Pythonista to Get Weather of Current Location into Drafts App",
      "image": null,
      "datePublished": "2014-01-10T00:00:00+00:00",
      "description": null
    }
  </script>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@miklb" />
<meta name="twitter:title" content="Use Pythonista to Get Weather of Current Location into Drafts App - Miklb’s Mindless Ramblings" />
<meta name="twitter:description" content="" />
<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "miklb.com",
      "logo": "miklb.com/public/favicon.png"
    }
  </script>
<!-- End Jekyll SEO tag -->
</head>


  <body class="layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about h-card">
      <h1>
        <a class="u-url"href="/index.html">
          Miklb's Mindless Ramblings
        </a>
      </h1>
      <p class="lead">Hi. I'm <span class="p-name">Michael Bishop</span>. I'm from <span class="p-locality">Tampa, FL</span>
      and this is my little slice of the web. </p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/index.html" rel="me">Home</a>

      

      
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="https://twitter.com/miklb" rel="me">@miklb on Twitter</a>
      <a class="sidebar-nav-item" href="https://github.com/miklb" rel="me">GitHub</a>


    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <main class="container content">
      <article class="post h-entry">
  <h1 class="post-title p-name">Use Pythonista to Get Weather of Current Location into Drafts App</h1>
  <time datetime="2014-01-10T00:00:00+00:00" class="dt-time post-date">10 Jan 2014</time>
  <div class="e-content">
      <p>My quest began when I began using Drafts app (among many other ways) to keep a fishing log. I created a TextExpander fill-in snippet to quickly enter what (if anything) was caught, the date, the type of lure(s) used, etc. I really wanted to automate adding the weather conditions as well, but alas, my search for that solution turned up nothing…until yesterday.</p>

<p>It started when <a href="https://twitter.com/drdrang">@drdrang</a> shared a <a href="http://omz-software.com/pythonista/">Pythonista</a> script to <a href="http://www.leancrew.com/all-this/2014/01/location-and-leverage/">leverage the location inside iOS</a>. Later he shared <a href="https://gist.github.com/hiilppp/8268816">another version</a>, from <a href="https://twitter.com/hiilppp">@hiilppp</a>.</p>

<p>Armed with that knowledge and a rudimentary knowledge of the <a href="https://developer.forecast.io">forecast.io API</a>, I set off to <strike>steal</strike> crib some Python usage of their API. Enter  <a href="https://twitter.com/jayhickey">@jayhickey</a> and his <a href="https://github.com/jayhickey/Pythonista-Scripts/blob/master/PySky.py">PySky</a> script. While written for the v1 Dark Skies API, it gave me enough Python to convert to the new v2 of Forecast.io.</p>

<p>The result?</p>

<script src="https://gist.github.com/miklb/8346411.js"></script>

<p><a href="https://gist.github.com/miklb/8346411">original gist</a></p>

<p>This version simply grabs the current weather summary and temperature from your current location, meant to be used with <a href="https://twitter.com/draftsapp">@draftsapp</a> as a URL action <code class="highlighter-rouge">pythonista://py_forecast?action=run&amp;argv=[[draft]]</code>. Dr. Drang suggests using <a href="https://gist.github.com/omz/4076735">New From Gist</a>, however I had better success using <a href="http://ioctocat.com">iOctocat</a>. There is an “open in…” dialog when viewing your gists or starred gists, and pick Pythonista.</p>

<p>Certainly for my fishing log I am expanding on this to include wind, sunrise and set times as well as the recently added moon phase. I figured a more generic version would be best shared, but please do not hesitate to leave a comment or  ask me a question on Twitter <a href="https://twitter.com/miklb">@miklb</a>. I’ll do my best to help, as I’m indebted to the aforementioned gents for sharing their code and helping in the first place.</p>

  </div>
</article>

<section id="webmentions" class="entry__comments">

				<h1>Webmentions</h1>
      
      

      
	   <div class="webmentions"><p class="webmentions__not-found">No webmentions were found</p></div>
     
	</section>



<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/focused-blogs">
            Focused Blogs
            <small><time datetime="2016-01-30T00:00:00+00:00">30 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/testing-sending-webmentions">
            Testing Sending Webmentions
            <small><time datetime="2016-01-20T00:00:00+00:00">20 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/making-the-move-to-jekyll">
            Making the Move to Jekyll
            <small><time datetime="2016-01-13T00:00:00+00:00">13 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>


<script src="/js/webmention_io.js"></script>

    </main>

  </body>
</html>
