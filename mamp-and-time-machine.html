<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <title>
    
      Troubleshooting MAMP and Time Machine &middot; Miklb's Mindless Ramblings
    
  </title>
  <!-- Webmentions -->
  <link rel="pingback" href="https://webmention.io/miklb.com/xmlrpc" />
  <link rel="webmention" href="https://webmention.io/miklb.com/webmention" />

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Miklb's Mindless Ramblings" href="/atom.xml">
  <!-- Begin Jekyll SEO tag -->
<title>Troubleshooting MAMP and Time Machine - Miklb’s Mindless Ramblings</title>
<meta property="og:title" content="Troubleshooting MAMP and Time Machine" />
<link rel="canonical" href="miklb.com/mamp-and-time-machine" itemprop="url" />
<meta property='og:url' content='miklb.com/mamp-and-time-machine' />
<meta property="og:site_name" content="Miklb's Mindless Ramblings" />
<script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "WebSite",
      "name" : "Miklb's Mindless Ramblings",
      "url" : "miklb.com"
    }
  </script>
<meta property="og:type" content="article" />
<link rel="next" href="miklb.com/infinite-summer-bookmarks" title="Infinite Summer Bookmarks" />
<link rel="prev" href="miklb.com/dark-nova-space-trader-for-the-iphone" title="Dark Nova: Space Trader for the iPhone" />
<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "NewsArticle",
      "headline": "Troubleshooting MAMP and Time Machine",
      "image": null,
      "datePublished": "2009-06-11T00:00:00+00:00",
      "description": null
    }
  </script>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@miklb" />
<meta name="twitter:title" content="Troubleshooting MAMP and Time Machine - Miklb’s Mindless Ramblings" />
<meta name="twitter:description" content="" />
<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "miklb.com",
      "logo": "miklb.com/public/favicon.png"
    }
  </script>
<!-- End Jekyll SEO tag -->
</head>


  <body class="layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/index.html">
          Miklb's Mindless Ramblings
        </a>
      </h1>
      <p class="lead">chronicling life in a digital world</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/index.html">Home</a>

      

      
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="https://twitter.com/miklb" rel="me">@miklb on Twitter</a>
      <a class="sidebar-nav-item" href="https://github.com/miklb" rel="me">GitHub</a>


    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <main class="container content">
      <article class="post h-entry">
  <h1 class="post-title p-name">Troubleshooting MAMP and Time Machine</h1>
  <time datetime="2009-06-11T00:00:00+00:00" class="dt-time post-date">11 Jun 2009</time>
  <div class="e-content">
      <p><img src="http://miklb.com/user/files/time_machine.png" class="right" alt="Time Machine" />Well, it’s taken me what seems like forever, but I finally determined that MAMP has been the cause of all of my Time Machine woes.  Basically Time Machine would get to a certain point, in my case it was around 29 GB, and simply stall, not allowing me to stop the backup process.  I would basically have to restart the machine to get it to stop.  I originally thought it was a problem with the formatting of the external drive, however I’d done all of the troubleshoot tips I’ve found on the web, to no avail.  Finally let me say, I’m not a Unix expert, nor am I that well versed in file permissions.  I know just enough to get myself in trouble, but I believe I understand this problem well enough at this point that I thought sharing my discoveries might help someone else avoid a similar headache.</p>

<p>In a nut shell, it seems that by default MAMP’s Apache instance doesn’t set a group owner for files created by the Apache server.  Time Machine chokes on these files, which results in a stalled backup.  After much Googling, I came across this <a href="http://blog.mirthlab.com/2008/04/05/mamp-might-break-your-time-machine-backups/">blog post about MAMP Pro and Time Machine</a>.  I then used the Time Machine options to exclude the directory that I created for my document root (I believe MAMP defaults to /Users/foo/Sites/).  Excluding my MAMP directory allowed Time Machine to completely backup my system.  In the aforementioned blog post about MAMP Pro, it appears there is a preference pane in the pro version to choose your user/group for the Apache server.  The free version of MAMP doesn’t offer this same preference, so I had to do a bit more digging.</p>

<p>What I found was that in the Apache httpd.conf file, around line 327, the group was indeed not set, rather it read “Group #-1”.  From what I understand of the Apache .conf file, using the # comments out what ever follows, which is why the cache files were being created as an unknown group, or “nogroup” as the post calls them.</p>

<p>I solved my issue by:</p>
<ul>
<li>changing "Group #-1" to "Group _www" on line 327 of the Apache httpd.conf found in Applications/MAMP/conf/apache</li>
<li>moving all the cache files that the Apache server had created in my MAMP document root to the trash</li>
<li>restarting Apache in MAMP (there's actually no "restart", you have to stop, then start the servers)</li>
<li>removing the MAMP directory exclusion from the Time Machine options</li>
</ul>

<p>By all means, if there is any misinformation in this post, or you can shed further light on the subject, please leave a comment, as I would like to fully understand the issue, and as I said, the information might be helpful to others, as I haven’t found much on the subject in my searches.</p>

  </div>
</article>


<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/making-the-move-to-jekyll">
            Making the Move to Jekyll
            <small><time datetime="2016-01-13T00:00:00+00:00">13 Jan 2016</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/embracing-my-suckiness">
            Embracing My Suckiness
            <small><time datetime="2015-05-30T00:00:00+00:00">30 May 2015</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/the-web-ad-dilemma">
            The Web Ad Dilemma
            <small><time datetime="2015-05-23T00:00:00+00:00">23 May 2015</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>


    </main>

  </body>
</html>
