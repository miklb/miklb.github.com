<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Troubleshooting MAMP and Time Machine</title>
	<meta name="description" content="Well, it’s taken me what seems like forever, but I finally determined that MAMP has been the cause of all of my Time Machine woes.  Basically Time Machine wo...">
	

	<style type="text/css">
    .site-header{ padding: 3% 6%; }
@media (max-width: 1000px){
.site-header{ padding: 3%; }
}
.content, .banner{ padding: 2.5% 20%; }
@media (max-width: 1000px){
.content, .banner{ padding: 7.5% 12.5%; }
}
html, body, div, span, h1, h2, p, a, img, ul, li, article, header, nav, time{ margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; vertical-align: baseline; }
article, header, nav{ display: block; }
body{ line-height: 1; }
 ul{ list-style: none; }
*{ box-sizing: border-box; }
body{ color: rgb(5, 7, 9); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neu', Arial, sans-serif; font-size: 16px; line-height: 1.6; word-wrap: break-word; }
.site-title{ font-size: 1.875rem; color: rgb(11, 26, 38); text-decoration: none; }
a{ color: rgb(198, 0, 0); font-weight: 600; text-decoration: none; }
.post p{ font-size: 1.25rem; margin: 1rem 0px; }
h1, h2{ color: rgb(5, 7, 9); font-weight: 700; line-height: 1.25; margin-bottom: 0.5rem; text-rendering: optimizelegibility; }
h1{ font-size: 3.125rem; }
h2{ font-size: 2.25rem; margin-top: 1rem; }
.u-url{ color: rgb(5, 7, 9); text-decoration: none; }
.post-date{ font-size: 1.25rem; color: rgb(204, 204, 204); text-transform: uppercase; }
.h-card h2{ color: rgb(255, 255, 255); }
.soc{ display: block; font-size: 0px; list-style: none; margin: 0px; padding: 1.5rem; text-align: center; }
.soc li{ display: inline-block; margin: 1em; }
.soc a, .soc svg{ display: block; }
.soc a{ height: 4rem; position: relative; width: 4rem; }
svg{ height: 100%; width: 100%; }
.icon{ color: rgb(204, 204, 204); fill: #cccccc; }
 img{ max-width: 100%; }
.site-header{ width: 100%; }
@media (max-width: 600px){
.site-header{ }
.site-header .site-nav{ text-align: center; }
.site-header .site-nav a{ font-size: 1.5rem; color: rgb(11, 26, 38); letter-spacing: 2px; text-decoration: none; }
}
.site-nav{ text-align: right; }
.site-nav > ul{ list-style: none; margin: 0px; padding: 0px; }
.site-nav a{ font-size: 1.125rem; display: inline-block; padding: 20px; text-decoration: none; text-transform: uppercase; }
.content{ display: inline-block; width: 100%; }
.content .posts .post{ margin-bottom: 5rem; }
.post-title a{ color: rgb(11, 26, 38); }
.banner{ background-color: rgb(11, 26, 38); background-size: cover; color: rgb(255, 255, 255); display: inline-block; font-size: 1.2em; text-align: center; width: 100%; }
.banner .u-photo{ border: 3px solid rgb(204, 204, 204); border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; height: 10rem; overflow: hidden; width: 10rem; }

  </style>

	<link rel="canonical" href="https://miklb.com/mamp-and-time-machine">
	<link rel="alternate" type="application/rss+xml" title="Miklb's Mindless Ramblings" href="https://miklb.com /feed.xml ">
	<link rel="shortcut icon" href="/public/favicon.png">
	
	<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
	
	<!-- Begin Jekyll SEO tag v1.4.0 -->
<title>Troubleshooting MAMP and Time Machine - Miklb’s Mindless Ramblings</title>
<meta property="og:title" content="Troubleshooting MAMP and Time Machine" />
<meta name="description" content="Well, it’s taken me what seems like forever, but I finally determined that MAMP has been the cause of all of my Time Machine woes.  Basically Time Machine would get to a certain point, in my case it was around 29 GB, and simply stall, not allowing me to stop the backup process.  I would basically have to restart the machine to get it to stop.  I originally thought it was a problem with the formatting of the external drive, however I’d done all of the troubleshoot tips I’ve found on the web, to no avail.  Finally let me say, I’m not a Unix expert, nor am I that well versed in file permissions.  I know just enough to get myself in trouble, but I believe I understand this problem well enough at this point that I thought sharing my discoveries might help someone else avoid a similar headache." />
<meta property="og:description" content="Well, it’s taken me what seems like forever, but I finally determined that MAMP has been the cause of all of my Time Machine woes.  Basically Time Machine would get to a certain point, in my case it was around 29 GB, and simply stall, not allowing me to stop the backup process.  I would basically have to restart the machine to get it to stop.  I originally thought it was a problem with the formatting of the external drive, however I’d done all of the troubleshoot tips I’ve found on the web, to no avail.  Finally let me say, I’m not a Unix expert, nor am I that well versed in file permissions.  I know just enough to get myself in trouble, but I believe I understand this problem well enough at this point that I thought sharing my discoveries might help someone else avoid a similar headache." />
<link rel="canonical" href="https://miklb.com/mamp-and-time-machine" />
<meta property="og:url" content="https://miklb.com/mamp-and-time-machine" />
<meta property="og:site_name" content="Miklb’s Mindless Ramblings" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-06-11T00:00:00+00:00" />
<link rel="next" href="https://miklb.com/infinite-summer-bookmarks" title="Infinite Summer Bookmarks" />
<link rel="prev" href="https://miklb.com/dark-nova-space-trader-for-the-iphone" title="Dark Nova: Space Trader for the iPhone" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Troubleshooting MAMP and Time Machine",
    "datePublished": "2009-06-11T00:00:00+00:00",
    "description": "Well, it’s taken me what seems like forever, but I finally determined that MAMP has been the cause of all of my Time Machine woes.  Basically Time Machine would get to a certain point, in my case it was around 29 GB, and simply stall, not allowing me to stop the backup process.  I would basically have to restart the machine to get it to stop.  I originally thought it was a problem with the formatting of the external drive, however I’d done all of the troubleshoot tips I’ve found on the web, to no avail.  Finally let me say, I’m not a Unix expert, nor am I that well versed in file permissions.  I know just enough to get myself in trouble, but I believe I understand this problem well enough at this point that I thought sharing my discoveries might help someone else avoid a similar headache.",
    "logo": "https://miklb.compublic/favicon.png",
    "url": "https://miklb.com/mamp-and-time-machine"
  }
</script>
<!-- End Jekyll SEO tag -->
</head>

<body class="h-feed">

	<header class="site-header" role="banner">
		<a class="site-title" href="/">Miklb's Mindless Ramblings</a>
		<nav class="site-nav" role="navigation">
			<ul>
				
      	 
         
         
          		<li itemprop="url"><a  class="" href="/about/">About</a></li>
							
        
      
         
         
        
      
         
         
        
      
         
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
         
         
        
      
			</ul>
		</nav>
	</header>
	
	<div id="wrapper">
		<main role="main">
			<div class="content">
				<article class="post h-entry">
  <header class="entry-header">
	  <h1 class="post-title p-name">
		  <a class="u-url" rel="bookmark" href="/mamp-and-time-machine">
			  Troubleshooting MAMP and Time Machine
		  </a>
	  </h1>

    <h2 class="p-summary p-bridgy-twitter-content">
      
    </h2>

  </header>
  <div class="e-content">
      <p><img src="http://miklb.com/user/files/time_machine.png" class="right" alt="Time Machine" />Well, it’s taken me what seems like forever, but I finally determined that MAMP has been the cause of all of my Time Machine woes.  Basically Time Machine would get to a certain point, in my case it was around 29 GB, and simply stall, not allowing me to stop the backup process.  I would basically have to restart the machine to get it to stop.  I originally thought it was a problem with the formatting of the external drive, however I’d done all of the troubleshoot tips I’ve found on the web, to no avail.  Finally let me say, I’m not a Unix expert, nor am I that well versed in file permissions.  I know just enough to get myself in trouble, but I believe I understand this problem well enough at this point that I thought sharing my discoveries might help someone else avoid a similar headache.</p>

<p>In a nut shell, it seems that by default MAMP’s Apache instance doesn’t set a group owner for files created by the Apache server.  Time Machine chokes on these files, which results in a stalled backup.  After much Googling, I came across this <a href="http://blog.mirthlab.com/2008/04/05/mamp-might-break-your-time-machine-backups/">blog post about MAMP Pro and Time Machine</a>.  I then used the Time Machine options to exclude the directory that I created for my document root (I believe MAMP defaults to /Users/foo/Sites/).  Excluding my MAMP directory allowed Time Machine to completely backup my system.  In the aforementioned blog post about MAMP Pro, it appears there is a preference pane in the pro version to choose your user/group for the Apache server.  The free version of MAMP doesn’t offer this same preference, so I had to do a bit more digging.</p>

<p>What I found was that in the Apache httpd.conf file, around line 327, the group was indeed not set, rather it read “Group #-1”.  From what I understand of the Apache .conf file, using the # comments out what ever follows, which is why the cache files were being created as an unknown group, or “nogroup” as the post calls them.</p>

<p>I solved my issue by:</p>
<ul>
<li>changing "Group #-1" to "Group _www" on line 327 of the Apache httpd.conf found in Applications/MAMP/conf/apache</li>
<li>moving all the cache files that the Apache server had created in my MAMP document root to the trash</li>
<li>restarting Apache in MAMP (there's actually no "restart", you have to stop, then start the servers)</li>
<li>removing the MAMP directory exclusion from the Time Machine options</li>
</ul>

<p>By all means, if there is any misinformation in this post, or you can shed further light on the subject, please leave a comment, as I would like to fully understand the issue, and as I said, the information might be helpful to others, as I haven’t found much on the subject in my searches.</p>

  </div>
  <footer class="entry-footer">
	  <div class="entry-meta">
      <div class="h-card p-author">
		        <a href="" class="entry-author-link" rel="author">
                  
                  <div class="auth-img">
                    <img src="http://cdn.miklb.com/images/profile_4_16_sm.png" alt="Michael Bishop" class="u-photo">
                  </div>
                  
                  

<p><span class="p-name">Michael Bishop</span></p>

            </a>
      </div>
      <div class="meta-wrap">
        <p><a href="">Troubleshooting MAMP and Time Machine </a> posted on <time datetime="2009-06-11T00:00:00+00:00" class="dt-time post-date">11 Jun 2009</time>.</p>
        <p>This entry has been tagged with the keywords: <a href="/tag/leopard" class="p-category" rel="tag">leopard </a><a href="/tag/time-machine" class="p-category" rel="tag">time-machine </a><a href="/tag/mamp" class="p-category" rel="tag">mamp </a><a href="/tag/permissions" class="p-category" rel="tag">permissions </a><a href="/tag/group" class="p-category" rel="tag">group </a><a href="/tag/troubleshooting" class="p-category" rel="tag">troubleshooting </a></p>
    </div>
  </div>
</footer>
</article>

<aside class="related-posts">
  
  <h3>You might also be interested in:</h3>
  <ul class="post-list">
  
  <li>
    <span class="post-date"><time datetime="2008-04-26T00:00:00+00:00" class="dt-time post-date">26 Apr 2008</time></span>
     <a href="/apple-drivers-in-vmware-fusion">Apple Drivers in VMware Fusion</a>
  </li>
  
</ul>

</aside>


<script id="webmention-hosted">
(function () {
var sn = document.createElement("script"), s = document.getElementsByTagName("script")[0], url;
url = document.querySelectorAll ? document.querySelectorAll("link[rel~=canonical]") : false;
url = url && url[0] ? url[0].href : false;
sn.type = "text/javascript"; sn.async = true;
sn.src = "//webmention.herokuapp.com/api/embed?url=" + encodeURIComponent(url || window.location);
s.parentNode.insertBefore(sn, s);
}());
</script>



			</div>
		</main>

	</div>
	<footer class="site-footer" role="contentinfo">
<p>
	Built with <a href="https://github.com/miklb/jekyll-indieweb">Jekyll</a> on <a href="https://indiewebcamp.com)
">IndieWeb principles</a>
</p>

	</footer>
	<script>
      var cb = function() {
        var l = document.createElement('link'); l.rel = 'stylesheet';
        l.href = '/css/main.css';
        var h = document.getElementsByTagName('head')[0]; h.parentNode.insertBefore(l, h);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(cb);
      else window.addEventListener('load', cb);
    </script>
</body>

</html>
